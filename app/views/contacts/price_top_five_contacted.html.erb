<div class=container>

  <div class="container mt-5">
    <h2 class=mt-3>The Top 5 most contacted listings per Month</h2>
    <% @top_five.each do |k, v|%>
      <h5 class="mt-3">Month: <%= k %></h5>

        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">Ranking</th>
              <th scope="col">Listing Id</th>
              <th scope="col">Make</th>
              <th scope="col">Selling Price</th>
              <th scope="col">Mileage</th>
              <th scope="col">Total Amount of contacts</th>
            </tr>
          </thead>
          <% v.each_with_index do |item, i| %>
            <tbody>
              <tr>
                <td><%= i + 1 %></td>
                <td><%= item[0] %></td>
                <td><%= Listing.find(item[0]).make %></td>
                <td>â‚¬ <%= number_with_delimiter(Listing.find(item[0]).price, :delimiter => ',') %>,-</td>
                <td><%= number_with_delimiter(Listing.find(item[0]).mileage, delimiter: ".") %>KM</td>
                <td><%= item[1] %></td>
              </tr>
            </tbody>
          <% end %>
        </table>
    <% end %>
    <div><%= link_to "Back", root_path %></div>
  </div>

</div>
